---
title: Blender Addon 建图工具 开发日志
date: 2021-03-03 22:31:20
tag 
---

## 展示图片（2021-03-03）

1. 直线曲线道路俯视图(高亮参考线，展开Background Data Panel)

2. 曲线双车道道路近景斜视图，带绿化带

3. 导入并沿线摆放object示例，展开Object类型选择的Panel

4. 沿线重复摆放Object示例

5. 道路边界编辑功能展示（不同宽度，局部拖动vertex调整）

6. 标线编辑功能展示

   

## 当前进度和计划更新（2021-02-25）

演示视频前需要的改进处：

点击道路mesh生成边界线curve，然后自动选中curve，点击导入在curve上自动import Object并绑定

​																								点击“多个”自动铺满，并可以调间距，范围

**新建**时删除mesh，状态栏条目也删除（删除状态栏条目，mesh也删除）

UI美化



## 计划中的操作、图形和数据的联动（2021-02-24）

昨天参考BlenderTodo插件做了一个类似状态窗的Panel，但是其除了视觉上让这个插件更“软件”化，想要进一步用他体现出（Road-lane-obj/roadmark的层级关系），或者同步对应于Mesh的增删查改功能，还是有比较多要解决的坑。

当前待完成的难点所在：

1. 通过Scene_record 记录操作对Mesh的影响并同步到状态Panel

2. 在Panel上每一条记录对应的Road给选中时，Panel对应条目高亮

   需要将Mesh操作和数据变动耦合起来，为此需要对：

   Mesh命名对象化，对象层级关系明确，对象数据和Scene_record绑定（建立结构），Scene_record 和 all_data & bpy.context.scene["all_data"]  三者关系理顺。

   方式一：重写import和delete函数

   

## 当前进度和计划更新（2021-02-22）

明日上班，整理一下当前的任务情况：

待完成：

- [x] **修改道路类型 (20mins)**

- [x] **命名道路(30mins)**

- [ ] ~~**拉出马路牙子(30mins)**~~


- [ ] **剥离资源库(2h)**

- [ ] 解决道路沿线放置bug(2h)

- [ ] 多重放置功能 完善

- [ ] UI总成 -- **设计（20mins）** -- **实现（1h）**

- [x] **“导出”功能按钮，“保存”和“加载”功能呈现 (20mins)**

- [ ] lane中间物体放置（停止线之类的）

- [ ] *高度调整

  **粗体**尽量明日完成

